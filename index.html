<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>sukanka 的博客 - sukanka 的博客</title><meta name="author" content="sukanka"><meta name="copyright" content="sukanka"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="所有的博客都是孤芳自赏.">
<meta property="og:type" content="website">
<meta property="og:title" content="sukanka 的博客">
<meta property="og:url" content="https://blog.askk.cc/index.html">
<meta property="og:site_name" content="sukanka 的博客">
<meta property="og:description" content="所有的博客都是孤芳自赏.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bu.dusays.com/2022/03/29/7582123dfaa71.png">
<meta property="article:author" content="sukanka">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bu.dusays.com/2022/03/29/7582123dfaa71.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.askk.cc/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?56ae4326ed7b0c987224d1f8ff8ee3f1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-MB8GTMPF6H"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MB8GTMPF6H');
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":180,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'sukanka 的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-30 23:25:07'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="sukanka 的博客" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://bu.dusays.com/2022/03/29/7582123dfaa71.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://bu.dusays.com/2022/03/29/81f99087d4308.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="sukanka 的博客"><span class="site-name">sukanka 的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">sukanka 的博客</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/sukanka" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:su975853527@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/30/custom-archlinux-initramfs-and-rootfs/" title="制作自定义的 archlinux initramfs 与 rootfs"><img class="post-bg" src="https://bu.dusays.com/2022/03/29/2af1b8ffc9a84.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="制作自定义的 archlinux initramfs 与 rootfs"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/30/custom-archlinux-initramfs-and-rootfs/" title="制作自定义的 archlinux initramfs 与 rootfs">制作自定义的 archlinux initramfs 与 rootfs</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-30T10:48:39.000Z" title="发表于 2024-03-30 18:48:39">2024-03-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/archlinux/">archlinux</a></span></div><div class="content">最近想做一个自定义的 archlinux pxe 启动环境，由于 pxe 走的 tftp, 因此希望 initramfs 尽量小，官方 iso 里面的 initramfs 带了一些 glibc 的动态链接库，因此体积还是比较大的。我打算基于 busybox 去做一个 initramfs, 尽量只包含 busybox 以及网卡驱动，其他一概不加，都放在 rootfs 里面。
最后所有脚本放在 Github 仓库
制作 initramfs
我并不打算从头写 init 脚本，而是尽量抄 mkinitcpio 的代码。首先我们尝试通过自制的 initramfs 引导 archiso 带的 rootfs.
先新建一个文件夹，将 archiso 的 initramfs 复制进去解压
1lsinitcpio -x initramfs-linux.img
看一下目录结构
12345678910111213141516171819202122232425262728293031323334353637383940414243444546➜  initramfs tree -L 2.├── bin -&g ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/12/24/archlinux-pxeboot/" title="PXE 启动 archlinux"><img class="post-bg" src="https://bu.dusays.com/2022/03/29/2af1b8ffc9a84.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PXE 启动 archlinux"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/24/archlinux-pxeboot/" title="PXE 启动 archlinux">PXE 启动 archlinux</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-24T13:28:11.000Z" title="发表于 2023-12-24 21:28:11">2023-12-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/archlinux/">archlinux</a></span></div><div class="content">本文没有编写完成，以后也许不会更新。
最近想整个 PXE 启动的 archlinux 环境，启动之后像 archiso 一样，跑在内存里面。
实现思路
PXE 启动 grub, 然后走 http 下载 kernel 和 initramfs, 在 initramfs 启动过程中下载 rootfs，最后 switch_root 到 rootfs。
搭建一个 tftp、dhcp、http server
根据 archwiki 的指导，我们用 dnsmasq 作为 tftp 与 dhcp server. 下面是我的 dnsmasq 配置(与软件包内置版本的 diff)
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990diff --git a/dnsmasq.conf b/dnsmasq.confindex ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/11/12/move-btrfs-to-another-disk/" title="复制 btrfs 分区到另一块硬盘"><img class="post-bg" src="https://bu.dusays.com/2022/03/29/2af1b8ffc9a84.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="复制 btrfs 分区到另一块硬盘"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/11/12/move-btrfs-to-another-disk/" title="复制 btrfs 分区到另一块硬盘">复制 btrfs 分区到另一块硬盘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-12T12:47:00.000Z" title="发表于 2023-11-12 20:47:00">2023-11-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/archlinux/">archlinux</a></span></div><div class="content">双十一来了，我入手了心心念念的致钛Ti 7100 plus。 但是迟迟没有将它换到我的笔记本上，直到这周末，才终于有时间将数据迁移到新盘上面，可惜的是，我的 $HOME 已经在周五晚上的测试打包过程中被误删了，后来回滚到了今年 7 月的快照。不过幸运的是除了我以外没有其他用户被删 $HOME，咱不用被挂在耻辱柱上了。
基本思路
由于 btrfs 有子卷 (subvolume)，无法像以前 ext4 时候一样直接用 rsync 同步数据。但是我又不想直接全盘 dd。
在咨询了群友以及在谷歌后，决定使用 dd 来迁移数据。基本步骤是

缩小 btrfs 所在分区
dd 缩小后的分区到新的硬盘上。

开始操作
应某群友的要求，这一部分我尽量详细地介绍具体操作。本操作需要你的电脑具有至少两个 nvme 硬盘位。
拆机换硬盘

电脑关机，拔掉电源。
脱下毛衣等易产生静电的衣物，双手摸墙 10s 放静电
用螺丝刀将电脑后盖拆开。
断开电脑的内置电池。
长按电源键 15s 放电。
顺便清一下灰，这一步可以不做。
换上新的硬盘到另一个槽位。
合上后盖（轻轻合在一起即可，不要拧后盖螺丝）。

复制文件
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/29/nix-flakes/" title="从零开始的 NixOS 教程（Flake篇)"><img class="post-bg" src="https://upload.wikimedia.org/wikipedia/commons/c/c4/NixOS_logo.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从零开始的 NixOS 教程（Flake篇)"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/29/nix-flakes/" title="从零开始的 NixOS 教程（Flake篇)">从零开始的 NixOS 教程（Flake篇)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-29T07:50:48.000Z" title="发表于 2023-05-29 15:50:48">2023-05-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a></span></div><div class="content">想不到还有人看，本来我都弃坑了，想到有人看，又捡起来了。我的 flake 已经托管到 github 仓库了，目前我还算新手，因此提交信息还比较乱。
安装教程见从零开始的 NixOS 教程（安装篇）。
Nix 系列最吸引我的地方之一就在于 flake 了，我们可以把所有的 flake 托管到 GitHub, 然后在服务器上引入。这样简简单单就备份好了各种配置文件。重装系统或者批量部署非常容易。
简单说明 Nix 的语法
我在写 flake 的时候，最痛苦的就是不知道要怎么写，也不知道该去哪里学。后来慢慢读了一些文档，但是也还是不会写。直到我看到了 nix pills. 对 nix 的机制有了一些了解，才算比较会用/会写 nix 了。
Nix 是一个函数式编程语言，我们需要注意的通常就三点:

&#123;&#125; 是一个 set, 不是其他语言中的作用域的概念。
p:q 是一个函数，接受一个参数 p，输出一个 q.
某些 .nix 文件需要遵守特定的格式（包含且只能包含某些特定的属性，比如 flake.nix）

开始抄一个 Flake
我们在上一篇教程里面已经开启了 flake 支 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/14/certbot-wildchar-auto-renew/" title="certbot 自动更新 DNSPOD 泛域名证书"><img class="post-bg" src="https://bu.dusays.com/2022/03/29/f158900bd55e2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="certbot 自动更新 DNSPOD 泛域名证书"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/14/certbot-wildchar-auto-renew/" title="certbot 自动更新 DNSPOD 泛域名证书">certbot 自动更新 DNSPOD 泛域名证书</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-14T12:23:47.000Z" title="发表于 2023-03-14 20:23:47">2023-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/domain/">domain</a></span></div><div class="content">最近我把服务器上的证书全换成泛域名证书了。域名比较多的话，每一个域名都要申请一份证书，虽然可以用 certbot 自动续期，但是因为不同的域名证书不一样，在写 nginx 配置的时候比较麻烦。
由于 certbot 已经支持了 泛域名证书的申请，所以我们可以申请泛域名证书，然后为泛域名证书自动续期就好了。假设我们的域名是 askk.cc，我希望为 askk.cc 与 *.askk.cc 申请一份证书。
具体步骤
首先，我们需要一个软件包：certbot-dns-dnspod, arch 用户的话，我已经打包好了certbot-dns-dnspod-git.
安装上该软件包之后，去 DNSPOD 申请 APIKEY. 具体做法参考 腾讯云 DNSPod 域名 API 申请 Let’s Encrypt 泛域名 SSL 证书过程记录。
然后记录下ID 与 KEY，写到文件里(我写到 /etc/letsencrypt/dnspod.ini) 记得将文件权限设置为 600。
123# cat /etc/letsencrypt/dnspod.inidns_dnspod_api_id=&quot;Y ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/16/cninfo-crawler/" title="从巨潮资讯爬取上市公司公告"><img class="post-bg" src="https://bu.dusays.com/2022/03/29/4b31de2e005b0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从巨潮资讯爬取上市公司公告"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/16/cninfo-crawler/" title="从巨潮资讯爬取上市公司公告">从巨潮资讯爬取上市公司公告</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-16T10:18:05.000Z" title="发表于 2022-10-16 18:18:05">2022-10-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">python</a></span></div><div class="content">背景
最近闲着没什么事，就帮同学写了个爬取巨潮资讯上市公司公告的 python 脚本，根据公司的股票代码以及公告的日期自动下载公告( pdf 或者 html 格式)。
脚本开源在 cninfo-crawler。
刚开始本来想用 selenium 爬的，结果搞到一半发现完全没有反爬，就直接用 requests 库了。
爬取过程
我们先进入巨潮资讯主页，打开 F12 开发人员工具，再随便搜索一个公司的股票代码跟公告日期。

点击查询，然后关注右边开发者工具捕捉到的消息，将它们按照 Type 排序，我们要找的应该在 xhr 里面，而且方法应该是 POST。

一眼我们就发现 query 特别可疑，点开它看看。

先看标头 POST 再看载荷

这个应该就是我们搜索的时候填的表单，stock 里面的 300409 就是股票代码， 但是那个 9900023868 是啥，不太懂。 seDate 就是我们查询的时间段。其他参数不用改。
获取下载链接
看一下预览，很明显 adjunctUrl 就是下载链接了，可惜这是个相对链接，

我们先点进去看一看，刚开始我尝试从 公告下载 捕获下载链接，但是事实证 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/#content-inner">6</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://bu.dusays.com/2022/03/29/7582123dfaa71.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">sukanka</div><div class="author-info__description">所有的博客都是孤芳自赏.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/sukanka"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/sukanka" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:su975853527@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/30/custom-archlinux-initramfs-and-rootfs/" title="制作自定义的 archlinux initramfs 与 rootfs"><img src="https://bu.dusays.com/2022/03/29/2af1b8ffc9a84.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="制作自定义的 archlinux initramfs 与 rootfs"/></a><div class="content"><a class="title" href="/2024/03/30/custom-archlinux-initramfs-and-rootfs/" title="制作自定义的 archlinux initramfs 与 rootfs">制作自定义的 archlinux initramfs 与 rootfs</a><time datetime="2024-03-30T10:48:39.000Z" title="发表于 2024-03-30 18:48:39">2024-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/24/archlinux-pxeboot/" title="PXE 启动 archlinux"><img src="https://bu.dusays.com/2022/03/29/2af1b8ffc9a84.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PXE 启动 archlinux"/></a><div class="content"><a class="title" href="/2023/12/24/archlinux-pxeboot/" title="PXE 启动 archlinux">PXE 启动 archlinux</a><time datetime="2023-12-24T13:28:11.000Z" title="发表于 2023-12-24 21:28:11">2023-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/12/move-btrfs-to-another-disk/" title="复制 btrfs 分区到另一块硬盘"><img src="https://bu.dusays.com/2022/03/29/2af1b8ffc9a84.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="复制 btrfs 分区到另一块硬盘"/></a><div class="content"><a class="title" href="/2023/11/12/move-btrfs-to-another-disk/" title="复制 btrfs 分区到另一块硬盘">复制 btrfs 分区到另一块硬盘</a><time datetime="2023-11-12T12:47:00.000Z" title="发表于 2023-11-12 20:47:00">2023-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/29/nix-flakes/" title="从零开始的 NixOS 教程（Flake篇)"><img src="https://upload.wikimedia.org/wikipedia/commons/c/c4/NixOS_logo.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从零开始的 NixOS 教程（Flake篇)"/></a><div class="content"><a class="title" href="/2023/05/29/nix-flakes/" title="从零开始的 NixOS 教程（Flake篇)">从零开始的 NixOS 教程（Flake篇)</a><time datetime="2023-05-29T07:50:48.000Z" title="发表于 2023-05-29 15:50:48">2023-05-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/14/certbot-wildchar-auto-renew/" title="certbot 自动更新 DNSPOD 泛域名证书"><img src="https://bu.dusays.com/2022/03/29/f158900bd55e2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="certbot 自动更新 DNSPOD 泛域名证书"/></a><div class="content"><a class="title" href="/2023/03/14/certbot-wildchar-auto-renew/" title="certbot 自动更新 DNSPOD 泛域名证书">certbot 自动更新 DNSPOD 泛域名证书</a><time datetime="2023-03-14T12:23:47.000Z" title="发表于 2023-03-14 20:23:47">2023-03-14</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Julia/"><span class="card-category-list-name">Julia</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/LINGO%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"><span class="card-category-list-name">LINGO学习记录</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/LaTeX/"><span class="card-category-list-name">LaTeX</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Office/"><span class="card-category-list-name">Office</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/VPS/"><span class="card-category-list-name">VPS</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/archlinux/"><span class="card-category-list-name">archlinux</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/domain/"><span class="card-category-list-name">domain</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/linux/"><span class="card-category-list-name">linux</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/clash/" style="font-size: 1.3em; color: #99a1ac">clash</a> <a href="/tags/btrfs/" style="font-size: 1.1em; color: #999">btrfs</a> <a href="/tags/mastodon/" style="font-size: 1.1em; color: #999">mastodon</a> <a href="/tags/Zotero/" style="font-size: 1.1em; color: #999">Zotero</a> <a href="/tags/%E5%A4%9A%E5%85%83%E7%BB%9F%E8%AE%A1/" style="font-size: 1.1em; color: #999">多元统计</a> <a href="/tags/dendrite/" style="font-size: 1.1em; color: #999">dendrite</a> <a href="/tags/aria2/" style="font-size: 1.1em; color: #999">aria2</a> <a href="/tags/Julia/" style="font-size: 1.1em; color: #999">Julia</a> <a href="/tags/AMD/" style="font-size: 1.1em; color: #999">AMD</a> <a href="/tags/caddy/" style="font-size: 1.1em; color: #999">caddy</a> <a href="/tags/TeXLive/" style="font-size: 1.1em; color: #999">TeXLive</a> <a href="/tags/%E6%95%88%E7%94%A8%E5%87%BD%E6%95%B0/" style="font-size: 1.1em; color: #999">效用函数</a> <a href="/tags/VPS/" style="font-size: 1.3em; color: #99a1ac">VPS</a> <a href="/tags/LINGO/" style="font-size: 1.1em; color: #999">LINGO</a> <a href="/tags/matrix/" style="font-size: 1.3em; color: #99a1ac">matrix</a> <a href="/tags/%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/" style="font-size: 1.1em; color: #999">数理统计</a> <a href="/tags/steam/" style="font-size: 1.1em; color: #999">steam</a> <a href="/tags/Linux/" style="font-size: 1.3em; color: #99a1ac">Linux</a> <a href="/tags/nixos/" style="font-size: 1.3em; color: #99a1ac">nixos</a> <a href="/tags/vnpy/" style="font-size: 1.1em; color: #999">vnpy</a> <a href="/tags/%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C/" style="font-size: 1.3em; color: #99a1ac">论文写作</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/" style="font-size: 1.1em; color: #999">数学建模</a> <a href="/tags/KDE/" style="font-size: 1.1em; color: #999">KDE</a> <a href="/tags/Word/" style="font-size: 1.1em; color: #999">Word</a> <a href="/tags/LaTeX/" style="font-size: 1.1em; color: #999">LaTeX</a> <a href="/tags/wireshark/" style="font-size: 1.1em; color: #999">wireshark</a> <a href="/tags/archlinux/" style="font-size: 1.5em; color: #99a9bf">archlinux</a> <a href="/tags/%E6%96%87%E7%8C%AE%E7%AE%A1%E7%90%86/" style="font-size: 1.3em; color: #99a1ac">文献管理</a> <a href="/tags/vscode/" style="font-size: 1.1em; color: #999">vscode</a> <a href="/tags/knitr/" style="font-size: 1.1em; color: #999">knitr</a> <a href="/tags/bitwarden/" style="font-size: 1.3em; color: #99a1ac">bitwarden</a> <a href="/tags/python/" style="font-size: 1.3em; color: #99a1ac">python</a> <a href="/tags/aur-%E5%8A%A9%E6%89%8B/" style="font-size: 1.1em; color: #999">aur 助手</a> <a href="/tags/fcitx5/" style="font-size: 1.1em; color: #999">fcitx5</a> <a href="/tags/vaultwarden/" style="font-size: 1.1em; color: #999">vaultwarden</a> <a href="/tags/kdeconnect/" style="font-size: 1.1em; color: #999">kdeconnect</a> <a href="/tags/%E6%95%99%E8%82%B2%E4%BC%98%E6%83%A0/" style="font-size: 1.1em; color: #999">教育优惠</a> <a href="/tags/R/" style="font-size: 1.1em; color: #999">R</a> <a href="/tags/initramfs/" style="font-size: 1.1em; color: #999">initramfs</a> <a href="/tags/remote-desktop/" style="font-size: 1.1em; color: #999">remote desktop</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">36</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">51.5k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-30T15:25:07.287Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By sukanka</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, {"startDelay":300,"typeSpeed":150,"backSpeed":50,"loop":true}))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init("嘿！进了我家的门，就是我家的人了！")
  } else {
    document.getElementById("subtitle").textContent = "嘿"
  }
}
typedJSFn.run(subtitleType)</script></div><div class="aplayer no-destroy" data-id="004gGqJu0TdYh8" data-server="tencent" data-type="song" data-fixed="true" data-autoplay="false"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'G-MB8GTMPF6H', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>